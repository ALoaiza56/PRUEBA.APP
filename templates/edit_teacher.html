{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <nav class="sidebar">
        <div class="logo">
            <img src="{{ url_for('static', filename='images/logoAM.png') }}" alt="Logo AM"
                style="max-width: 100px; margin-bottom: 10px;">
            <h2>SchoolApp</h2>
        </div>
        <ul class="nav-links">
            <li>
                <a href="{{ url_for('dashboard') }}#asistencia">Asistencia</a>
            </li>
            <li>
                <a href="{{ url_for('dashboard') }}#asistencia-rapida">Asistencia Rápida</a>
            </li>
            <li>
                <a href="{{ url_for('dashboard') }}#estudiantes">Estudiantes</a>
            </li>
            {% if current_user.role == 'admin' %}
            <li class="active">
                <a href="{{ url_for('dashboard') }}#profesores">Profesores</a>
            </li>
            <li>
                <a href="{{ url_for('dashboard') }}#fechas">Fechas</a>
            </li>
            {% endif %}
        </ul>
        <div class="user-info">
            <p>{{ current_user.username }}</p>
            <a href="{{ url_for('logout') }}" class="btn-logout">Cerrar Sesión</a>
        </div>
    </nav>

    <main class="main-content">
        <header>
            <h1 id="page-title">Editar Profesor</h1>
        </header>

        <section class="tab-content active">
            <div class="card">
                <h3>Editar Información de {{ teacher.name }}</h3>

                <form action="{{ url_for('edit_teacher', id=teacher.id) }}" method="POST" class="add-form"
                    style="display: flex; flex-direction: column; gap: 1rem; max-width: 500px;">
                    <div class="input-group">
                        <input type="text" name="name" value="{{ teacher.name }}" placeholder="Nombre Completo"
                            required>
                    </div>
                    <div class="input-group">
                        <input type="email" name="email" value="{{ teacher.email }}" placeholder="Correo Electrónico"
                            required>
                    </div>
                    <div class="input-group">
                        <input type="text" name="phone" value="{{ teacher.phone or '' }}" placeholder="Celular">
                    </div>
                    <div class="input-group">
                        <input type="password" name="password"
                            placeholder="Nueva Contraseña (Dejar en blanco para no cambiar)">
                    </div>

                    <div style="margin-top: 2rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <button type="submit" class="btn-primary">Guardar</button>
                        <a href="{{ url_for('dashboard') }}#profesores" class="btn-secondary">Cancelar</a>
                    </div>
                </form>
            </div>
        </section>
    </main>
</div>
{% endblock %}